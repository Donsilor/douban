webpackJsonp([1],{NHnr:function(s,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("7+uW"),i={render:function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"search"},[a("label",{attrs:{for:"search"}},[s._v("豆瓣读书: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:s.bookName,expression:"bookName"}],attrs:{id:"search",type:"text",placeholder:"书名、作者、ISBN"},domProps:{value:s.bookName},on:{input:function(t){t.target.composing||(s.bookName=t.target.value)}}}),s._v(" "),a("button",{on:{click:s.searchBook}},[s._v("搜索")])]),s._v(" "),a("router-view")],1)},staticRenderFns:[]};var e=a("VU/8")({name:"App",data:function(){return{bookName:""}},methods:{searchBook:function(){""!==this.bookName.trim()&&this.$router.push({path:"/search/?key="+this.bookName})}}},i,!1,function(s){a("q3E/")},null,null).exports,n=a("/ocq"),r={name:"findBook",data:function(){return{allMsg:null,stars:"★★★★★☆☆☆☆☆"}},watch:{$route:"keyChnage"},methods:{keyChnage:function(){var s=this;this.$jsonp("https://api.douban.com/v2/book/search?q="+this.$route.query.key).then(function(t){s.allMsg=t.books})},findBook:function(s){this.$router.push({path:"/find/"+s})},star:function(s){return console.log(s),s>0&&s<=2?this.stars.slice(4,9):s>2&&s<=4?this.stars.slice(3,8):s>4&&s<=6?this.stars.slice(2,7):s>6&&s<=8?this.stars.slice(1,6):0==s?this.stars.slice(5,10):this.stars.slice(0,5)}},created:function(){var s=this;this.$jsonp("https://api.douban.com/v2/book/search?q="+this.$route.query.key).then(function(t){s.allMsg=t.books})}},v={render:function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"box"},[a("div",{staticClass:"content"},[a("h3",[s._v("搜索结果")]),s._v(" "),a("ul",s._l(s.allMsg,function(t){return a("li",[a("img",{attrs:{src:t.image}}),s._v(" "),a("div",{staticClass:"bookdes"},[a("p",[a("a",{on:{click:function(a){s.findBook(t.id)}}},[s._v(s._s(t.title))])]),s._v(" "),a("P",[a("span",{staticStyle:{color:"#f9b70f"}},[s._v(s._s(s.star(t.rating.average)))]),s._v(" "),a("span",{staticStyle:{"font-size":"14px"}},[s._v(s._s(t.rating.average)+" ("+s._s(t.rating.numRaters)+"人评价)")])]),s._v(" "),a("span",[s._v(" "+s._s(t.author[0])+"/ "+s._s(t.publisher)+" / "+s._s(t.pubdate)+" / "+s._s(t.price))])],1)])}))])])},staticRenderFns:[]};var c=a("VU/8")(r,v,!1,function(s){a("nIwy")},"data-v-dfb89222",null).exports,_={name:"find-book",data:function(){return{bookMsg:null,summary:"",author_intro:"",catalog:""}},created:function(){var s=this;this.$jsonp("https://api.douban.com/v2/book/"+this.$route.params.id).then(function(t){console.log(t),s.bookMsg=t,s.summary=l(t.summary),s.author_intro=l(t.author_intro),s.catalog=l(t.catalog)})}};function l(s){var t="";return s.split("\n").map(function(s,a){0!==a&&(t+='<p class="contP">'+s+"</p>")}),t}var u={render:function(){var s=this,t=s.$createElement,a=s._self._c||t;return null!==s.bookMsg?a("div",{staticClass:"container"},[a("div",{staticClass:"head"},[a("h2",[s._v(s._s(s.bookMsg.title))])]),s._v(" "),a("div",{staticClass:"book"},[a("div",{staticClass:"img"},[a("img",{attrs:{src:s.bookMsg.image,width:"135",alt:""}})]),s._v(" "),a("div",{staticClass:"detail"},[void 0!==s.bookMsg.author?a("div",{staticClass:"author"},[s._v("作者: "),a("a",{attrs:{href:s.bookMsg.image}},[s._v(s._s(s.bookMsg.author[0]))])]):s._e(),s._v(" "),s.bookMsg.publisher?a("div",{staticClass:"publisher"},[s._v("出版社: "),a("span",[s._v(s._s(s.bookMsg.publisher))])]):s._e(),s._v(" "),a("div",{staticClass:"publite"},[s._v("出品方: "),a("a",{attrs:{href:s.bookMsg.image}},[s._v("新经典文化")])]),s._v(" "),s.bookMsg.origin_title?a("div",{staticClass:"origin_title"},[s._v("原作名: "),a("span",[s._v(s._s(s.bookMsg.origin_title))])]):s._e(),s._v(" "),0!==s.bookMsg.translator.length?a("div",{staticClass:"translator"},[s._v("译者: "),a("a",{attrs:{href:s.bookMsg.image}},[s._v(s._s(s.bookMsg.translator[0]))])]):s._e(),s._v(" "),s.bookMsg.pubdate?a("div",{staticClass:"pubdate"},[s._v("出版年: "),a("span",[s._v(s._s(s.bookMsg.pubdate))])]):s._e(),s._v(" "),a("div",{staticClass:"pages"},[s._v("页数: "),a("span",[s._v(s._s(s.bookMsg.pages))])]),s._v(" "),a("div",{staticClass:"price"},[s._v("定价: "),a("span",[s._v(s._s(s.bookMsg.price))])]),s._v(" "),s.bookMsg.binding?a("div",{staticClass:"price"},[s._v("装帧: "),a("span",[s._v(s._s(s.bookMsg.binding))])]):s._e(),s._v(" "),a("div",{staticClass:"ISBN"},[s._v("ISBN: "),a("span",[s._v(s._s(s.bookMsg.isbn13))])])]),s._v(" "),a("div",{staticClass:"star"},[a("span",[s._v("豆瓣评分")]),s._v(" "),a("div",[a("div",{staticClass:"avg"},[s._v(s._s(s.bookMsg.rating.average))]),s._v(" "),a("div",{staticClass:"numRaters"},[s._v(s._s(s.bookMsg.rating.numRaters)+"人评价")])])])]),s._v(" "),a("div",{attrs:{id:"content"}},[a("h3",{staticClass:"summary"},[s._v("内容简介· · · · · ·")]),s._v(" "),a("div",{domProps:{innerHTML:s._s(s.summary)}}),s._v(" "),a("h3",{staticClass:"author_intro"},[s._v("作者简介· · · · · ·")]),s._v(" "),a("div",{domProps:{innerHTML:s._s(s.author_intro)}}),s._v(" "),a("h3",{staticClass:"catalog"},[s._v("目录· · · · · ·")]),s._v(" "),a("div",{domProps:{innerHTML:s._s(s.catalog)}}),s._v(" "),a("h3",{staticClass:"tags"},[s._v("豆瓣成员常用的标签(共73个)  · · · · · ·")]),s._v(" "),a("div",{staticClass:"tagname"},s._l(s.bookMsg.tags,function(t){return a("a",{attrs:{href:s.bookMsg.image}},[s._v(s._s(t.name))])}))])]):s._e()},staticRenderFns:[]};var d=a("VU/8")(_,u,!1,function(s){a("yKky")},"data-v-93fefc2e",null).exports;o.a.use(n.a);var p=new n.a({routes:[{path:"/search",component:c},{path:"/find/:id",component:d}]}),h=a("qJdI"),g=a.n(h);o.a.use(g.a),o.a.config.productionTip=!1,new o.a({el:"#app",router:p,components:{App:e},template:"<App/>"})},nIwy:function(s,t){},"q3E/":function(s,t){},yKky:function(s,t){}},["NHnr"]);
//# sourceMappingURL=app.9a860369701b579f4cbd.js.map